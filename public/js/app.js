"use strict";var rev=rev||{};rev.startingPieces=function(){this.$squares.eq(27).addClass("yellow-piece"),this.$squares.eq(28).addClass("black-piece"),this.$squares.eq(35).addClass("black-piece"),this.$squares.eq(36).addClass("yellow-piece")},rev.scoreCounter=function(){this.$scoreOne.text("Player One "+$(".black-piece").length),this.$scoreTwo.text("Player Two "+$(".yellow-piece").length)},rev.startingPosition=function(){for(var e=0;e<rev.boardSize;e++)this.$game.append($("<div>").addClass("square"));this.$squares=$(".square"),this.startingPieces(),this.scoreCounter(),this.$isPlaying.text("Player 1 - black").addClass("current-one")},rev.reset=function(){rev.$squares.removeClass("black-piece").removeClass("yellow-piece"),rev.startingPieces(),rev.scoreCounter()},rev.flipPieces=function(e,s,r,a){var i=this,t=$(e.target),n=t.index(),l=[],o=a;if(8===a||-8===a)for(;rev.$squares.eq(n+o).hasClass(r);)l.push(n+o),o+=a;for(;rev.$squares.eq(n+o).hasClass(r)&&(n+o)%8!=7&&(n+o)%8!=0;)l.push(n+o),o+=a;var c=l[l.length-1]+a;if(rev.$squares.eq(c).hasClass(s)&&c>=0&&c<=63)for(var v=0;v<l.length;v++)!function(e){t.addClass(s),setTimeout(function(){return $("body").find(rev.$squares).eq(l[e]).removeClass(r)},300),$("body").find(rev.$squares).eq(l[e]).addClass("flippy"),setTimeout(function(){return $("body").find(rev.$squares).eq(l[e]).removeClass("flippy")},300),$("body").find(rev.$squares).eq(l[e]).addClass(s),i.playerOnePlaying="black-piece"!==s,i.playerOnePlaying?i.$isPlaying.text("Player 1 - black").addClass("current-one").removeClass("current-two"):i.$isPlaying.text("Player 2 - yellow").addClass("current-two").removeClass("current-one"),i.$moveA.play()}(v)},rev.flip=function(e){var s=this,r=rev.playerOnePlaying?"black-piece":"yellow-piece",a=rev.playerOnePlaying?"yellow-piece":"black-piece";if($(e.target).hasClass(r)||$(e.target).hasClass(a))return!1;[1,9,8,7,-1,-9,-8,-7].forEach(function(i){s.flipPieces(e,r,a,i)}),this.scoreCounter()},rev.setup=function(){rev.$isPlaying=$(".current"),rev.playerOnePlaying=!0,rev.boardSize=64,rev.$scoreOne=$(".score-one"),rev.$scoreTwo=$(".score-two"),rev.$game=$(".game"),rev.$resetBtn=$(".reset-rev"),rev.$squares=null,rev.$moveA=$("#move-sound")[0],rev.$resetBtn.on("click",rev.reset),rev.startingPosition(),rev.$squares.on("click",rev.flip.bind(rev))},$(rev.setup.bind(rev));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJyZXYiLCJzdGFydGluZ1BpZWNlcyIsInRoaXMiLCJhZGRDbGFzcyIsIiRzcXVhcmVzIiwiZXEiLCJzY29yZUNvdW50ZXIiLCIkc2NvcmVPbmUiLCJ0ZXh0IiwiJCIsImxlbmd0aCIsInN0YXJ0aW5nUG9zaXRpb24iLCJpIiwiYm9hcmRTaXplIiwicmVtb3ZlQ2xhc3MiLCJmbGlwUGllY2VzIiwiZSIsInBpZWNlc0luUGxheSIsImVuZW15UGllY2VzIiwicGllY2VzQ29vcmRpbmF0ZXMiLCJfdGhpcyIsIiR0YXJnZXRTcXVhcmUiLCJ0YXJnZXQiLCJpbmRleCIsImluZGV4T2ZUYXJnZXQiLCJwaWVjZXNUb1R1cm4iLCJoYXNDbGFzcyIsInBpZWNlRmxhbmtpbmdFbmVteVBpZWNlcyIsInNldFRpbWVvdXQiLCJmaW5kIiwicGxheWVyT25lUGxheWluZyIsIiRpc1BsYXlpbmciLCIkbW92ZUEiLCJwbGF5IiwiZmxpcCIsIl90aGlzMiIsImZvckVhY2giLCJudW1iZXIiLCJzZXR1cCIsIiRzY29yZVR3byIsIiRnYW1lIiwiJHJlc2V0QnRuIiwib24iLCJyZXNldCIsImJpbmQiXSwibWFwcGluZ3MiOiJZQUFBLElBQUlBLEtBQU1BLE9BQ1ZBLEtBQUlDLGVBQWlCLFdBRHJCQyxLQUFJRixTQUFNQSxHQUFWLElBQUFHLFNBQUEsZ0JBQ0FILEtBQUlDLFNBQUFBLEdBQUosSUFBcUJFLFNBQVNGLGVBQzVCQyxLQUFLRSxTQUFTQyxHQUFHLElBQUlGLFNBQVMsZUFDOUJELEtBQUtFLFNBQVNDLEdBQUcsSUFBSUYsU0FBUyxpQkFHL0JILElBTERNLGFBQUEsV0FRRUosS0FBS0ssVUFBVUMsS0FBTSxjQUFvQkMsRUFBRSxnQkFBZ0JDLFFBRDdEVixLQUFJTSxVQUFKRSxLQUFtQixjQUFBQyxFQUF3QixpQkFBQUMsU0FHMUNWLElBSERXLGlCQUFBLFdBTUUsSUFBTSxHQUFJQyxHQUFJLEVBQUdBLEVBQUlaLElBQUlhLFVBQVdELElBRGxD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UUFBRVQsSUFBbkIyQyxPQUNBM0MsSUFBSThCLG1CQUVKOUIsSUFBSU8sU0FBSm1DLEdBQWdCakMsUUFBRVQsSUFBQWtDLEtBQWxCVSxLQUFBNUMsT0FFQUEsRUFBQUEsSUFBSXdDLE1BQUpJLEtBQWM1QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmV2ID0gcmV2IHx8IHt9O1xucmV2LnN0YXJ0aW5nUGllY2VzID0gZnVuY3Rpb24gc3RhcnRpbmdQaWVjZXMgKCkge1xuICB0aGlzLiRzcXVhcmVzLmVxKDI3KS5hZGRDbGFzcygneWVsbG93LXBpZWNlJyk7XG4gIHRoaXMuJHNxdWFyZXMuZXEoMjgpLmFkZENsYXNzKCdibGFjay1waWVjZScpO1xuICB0aGlzLiRzcXVhcmVzLmVxKDM1KS5hZGRDbGFzcygnYmxhY2stcGllY2UnKTtcbiAgdGhpcy4kc3F1YXJlcy5lcSgzNikuYWRkQ2xhc3MoJ3llbGxvdy1waWVjZScpO1xufTtcblxucmV2LnNjb3JlQ291bnRlciA9IGZ1bmN0aW9uIHNjb3JlQ291bnRlcigpIHtcbiAgdGhpcy4kc2NvcmVPbmUudGV4dCggJ1BsYXllciBPbmUnICsnICcgKyAkKCcuYmxhY2stcGllY2UnKS5sZW5ndGgpO1xuICB0aGlzLiRzY29yZVR3by50ZXh0KCdQbGF5ZXIgVHdvJyArJyAnICsgJCgnLnllbGxvdy1waWVjZScpLmxlbmd0aCk7XG59O1xuXG5yZXYuc3RhcnRpbmdQb3NpdGlvbiA9IGZ1bmN0aW9uIHN0YXJ0aW5nUG9zaXRpb24oKSB7XG4gIGZvciAoIGxldCBpID0gMDsgaSA8IHJldi5ib2FyZFNpemU7IGkrKykge1xuICAgIHRoaXMuJGdhbWUuYXBwZW5kKCQoJzxkaXY+JykuYWRkQ2xhc3MoJ3NxdWFyZScpKTtcblxuICB9XG4gIHRoaXMuJHNxdWFyZXMgPSAkKCcuc3F1YXJlJyk7XG4gIHRoaXMuc3RhcnRpbmdQaWVjZXMoKTtcbiAgdGhpcy5zY29yZUNvdW50ZXIoKTtcbiAgdGhpcy4kaXNQbGF5aW5nLnRleHQoJ1BsYXllciAxIC0gYmxhY2snKS5hZGRDbGFzcygnY3VycmVudC1vbmUnKTtcblxuXG59O1xuXG5yZXYucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgcmV2LiRzcXVhcmVzLnJlbW92ZUNsYXNzKCdibGFjay1waWVjZScpLnJlbW92ZUNsYXNzKCd5ZWxsb3ctcGllY2UnKTtcbiAgcmV2LnN0YXJ0aW5nUGllY2VzKCk7XG4gIHJldi5zY29yZUNvdW50ZXIoKTtcbn07XG5cbnJldi5mbGlwUGllY2VzID0gIGZ1bmN0aW9uIGZsaXBQaWVjZXMoZSwgcGllY2VzSW5QbGF5LCBlbmVteVBpZWNlcywgcGllY2VzQ29vcmRpbmF0ZXMpIHtcbiAgY29uc3QgJHRhcmdldFNxdWFyZSA9ICQoZS50YXJnZXQpO1xuICBjb25zdCBpbmRleE9mVGFyZ2V0ID0gJHRhcmdldFNxdWFyZS5pbmRleCgpO1xuICBjb25zdCBwaWVjZXNUb1R1cm4gPSBbXTtcbiAgbGV0IGkgPSBwaWVjZXNDb29yZGluYXRlcztcblxuICBpZiAocGllY2VzQ29vcmRpbmF0ZXMgPT09IDggfHwgcGllY2VzQ29vcmRpbmF0ZXMgPT09IC04KSB7XG4gICAgd2hpbGUgKHJldi4kc3F1YXJlcy5lcShpbmRleE9mVGFyZ2V0ICsgaSkuaGFzQ2xhc3MoZW5lbXlQaWVjZXMpKSB7XG4gICAgICBwaWVjZXNUb1R1cm4ucHVzaChpbmRleE9mVGFyZ2V0ICsgaSk7XG4gICAgICBpICs9IHBpZWNlc0Nvb3JkaW5hdGVzO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChyZXYuJHNxdWFyZXMuZXEoaW5kZXhPZlRhcmdldCArIGkpLmhhc0NsYXNzKGVuZW15UGllY2VzKSAmJiAoaW5kZXhPZlRhcmdldCArIGkpJTggIT09IDcgJiYgKGluZGV4T2ZUYXJnZXQgKyBpKSU4ICE9PSAwKSB7XG4gICAgcGllY2VzVG9UdXJuLnB1c2goaW5kZXhPZlRhcmdldCArIGkpO1xuICAgIGkgKz0gcGllY2VzQ29vcmRpbmF0ZXM7XG4gIH1cblxuICBjb25zdCBwaWVjZUZsYW5raW5nRW5lbXlQaWVjZXMgPSBwaWVjZXNUb1R1cm5bcGllY2VzVG9UdXJuLmxlbmd0aCAtIDFdICsgcGllY2VzQ29vcmRpbmF0ZXM7XG5cbiAgaWYgKHJldi4kc3F1YXJlcy5lcShwaWVjZUZsYW5raW5nRW5lbXlQaWVjZXMpLmhhc0NsYXNzKHBpZWNlc0luUGxheSkgJiYgcGllY2VGbGFua2luZ0VuZW15UGllY2VzID49IDAgJiYgcGllY2VGbGFua2luZ0VuZW15UGllY2VzIDw9IDYzKSB7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlc1RvVHVybi5sZW5ndGg7IGkrKykge1xuICAgICAgJHRhcmdldFNxdWFyZS5hZGRDbGFzcyhwaWVjZXNJblBsYXkpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiAkKCdib2R5JykuZmluZChyZXYuJHNxdWFyZXMpLmVxKHBpZWNlc1RvVHVybltpXSkucmVtb3ZlQ2xhc3MoZW5lbXlQaWVjZXMpLCAzMDApO1xuICAgICAgJCgnYm9keScpLmZpbmQocmV2LiRzcXVhcmVzKS5lcShwaWVjZXNUb1R1cm5baV0pLmFkZENsYXNzKCdmbGlwcHknKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gJCgnYm9keScpLmZpbmQocmV2LiRzcXVhcmVzKS5lcShwaWVjZXNUb1R1cm5baV0pLnJlbW92ZUNsYXNzKCdmbGlwcHknKSwgMzAwKTtcbiAgICAgICQoJ2JvZHknKS5maW5kKHJldi4kc3F1YXJlcykuZXEocGllY2VzVG9UdXJuW2ldKS5hZGRDbGFzcyhwaWVjZXNJblBsYXkpO1xuICAgICAgdGhpcy5wbGF5ZXJPbmVQbGF5aW5nID0gcGllY2VzSW5QbGF5ID09PSAnYmxhY2stcGllY2UnID8gZmFsc2UgOiB0cnVlO1xuICAgICAgdGhpcy5wbGF5ZXJPbmVQbGF5aW5nID8gdGhpcy4kaXNQbGF5aW5nLnRleHQoJ1BsYXllciAxIC0gYmxhY2snKS5hZGRDbGFzcygnY3VycmVudC1vbmUnKS5yZW1vdmVDbGFzcygnY3VycmVudC10d28nKSA6IHRoaXMuJGlzUGxheWluZy50ZXh0KCdQbGF5ZXIgMiAtIHllbGxvdycpLmFkZENsYXNzKCdjdXJyZW50LXR3bycpLnJlbW92ZUNsYXNzKCdjdXJyZW50LW9uZScpO1xuICAgICAgdGhpcy4kbW92ZUEucGxheSgpO1xuICAgIH1cbiAgfVxufTtcblxucmV2LmZsaXAgPSBmdW5jdGlvbiBmbGlwKGUpIHtcbiAgY29uc3QgcGllY2VzSW5QbGF5ID0gcmV2LnBsYXllck9uZVBsYXlpbmcgPyAnYmxhY2stcGllY2UnIDogJ3llbGxvdy1waWVjZSc7XG4gIGNvbnN0IGVuZW15UGllY2VzID0gcmV2LnBsYXllck9uZVBsYXlpbmcgPyAneWVsbG93LXBpZWNlJyA6ICdibGFjay1waWVjZSc7XG5cbiAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKHBpZWNlc0luUGxheSkgIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKGVuZW15UGllY2VzKSkgcmV0dXJuIGZhbHNlO1xuICBbMSw5LDgsNywtMSwtOSwtOCwtN10uZm9yRWFjaCgobnVtYmVyKSA9PiB7XG4gICAgdGhpcy5mbGlwUGllY2VzKGUsIHBpZWNlc0luUGxheSwgZW5lbXlQaWVjZXMsIG51bWJlcik7XG4gIH0pO1xuICB0aGlzLnNjb3JlQ291bnRlcigpO1xuXG59O1xuXG5yZXYuc2V0dXAgID0gZnVuY3Rpb24gc2V0dXAoKSB7XG4gIHJldi4kaXNQbGF5aW5nID0gJCgnLmN1cnJlbnQnKTtcbiAgcmV2LnBsYXllck9uZVBsYXlpbmcgPSB0cnVlO1xuICByZXYuYm9hcmRTaXplID0gOCo4O1xuICByZXYuJHNjb3JlT25lID0gJCgnLnNjb3JlLW9uZScpO1xuICByZXYuJHNjb3JlVHdvID0gJCgnLnNjb3JlLXR3bycpO1xuICByZXYuJGdhbWUgPSAkKCcuZ2FtZScpO1xuICByZXYuJHJlc2V0QnRuID0gICAkKCcucmVzZXQtcmV2Jyk7XG4gIHJldi4kc3F1YXJlcyA9IG51bGw7XG4gIHJldi4kbW92ZUEgPSAkKCcjbW92ZS1zb3VuZCcpWzBdO1xuICByZXYuJHJlc2V0QnRuLm9uKCdjbGljaycsIHJldi5yZXNldCk7XG4gIHJldi5zdGFydGluZ1Bvc2l0aW9uKCk7XG5cbiAgcmV2LiRzcXVhcmVzLm9uKCdjbGljaycsIHJldi5mbGlwLmJpbmQocmV2KSk7XG59O1xuJChyZXYuc2V0dXAuYmluZChyZXYpKTtcbiJdfQ==
