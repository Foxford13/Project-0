"use strict";var rev=rev||{};rev.startingPieces=function(){this.$squares.eq(27).addClass("yellow-piece"),this.$squares.eq(28).addClass("black-piece"),this.$squares.eq(35).addClass("black-piece"),this.$squares.eq(36).addClass("yellow-piece")},rev.scoreCounter=function(){this.$scoreOne.text("Player One "+$(".black-piece").length),this.$scoreTwo.text("Player Two "+$(".yellow-piece").length)},rev.startingPosition=function(){for(var e=0;e<rev.boardSize;e++)this.$game.append($("<div>").addClass("square"));this.$squares=$(".square"),this.startingPieces(),this.scoreCounter(),this.$isPlaying.text("Player 1 - black").addClass("current-one")},rev.reset=function(){rev.$squares.removeClass("black-piece").removeClass("yellow-piece"),rev.startingPieces(),rev.scoreCounter()},rev.flipPieces=function(e,s,r,a){var i=this,t=$(e.target),n=t.index(),l=[],o=a;if(8===a||-8===a)for(;rev.$squares.eq(n+o).hasClass(r);)l.push(n+o),o+=a;for(;rev.$squares.eq(n+o).hasClass(r)&&(n+o)%8!=7&&(n+o)%8!=0;)l.push(n+o),o+=a;var c=l[l.length-1]+a;if(rev.$squares.eq(c).hasClass(s)&&c>=0&&c<=63)for(var v=0;v<l.length;v++)!function(e){t.addClass(s),setTimeout(function(){return $("body").find(rev.$squares).eq(l[e]).removeClass(r)},300),$("body").find(rev.$squares).eq(l[e]).addClass("flippy"),setTimeout(function(){return $("body").find(rev.$squares).eq(l[e]).removeClass("flippy")},300),$("body").find(rev.$squares).eq(l[e]).addClass(s),i.playerOnePlaying="black-piece"!==s,i.playerOnePlaying?i.$isPlaying.text("Player 1 - black").addClass("current-one").removeClass("current-two"):i.$isPlaying.text("Player 2 - yellow").addClass("current-two").removeClass("current-one"),i.$moveA.play()}(v)},rev.flip=function(e){var s=this,r=rev.playerOnePlaying?"black-piece":"yellow-piece",a=rev.playerOnePlaying?"yellow-piece":"black-piece";if($(e.target).hasClass(r)||$(e.target).hasClass(a))return!1;[1,9,8,7,-1,-9,-8,-7].forEach(function(i){s.flipPieces(e,r,a,i)}),this.scoreCounter()},rev.setup=function(){rev.$isPlaying=$(".current"),rev.playerOnePlaying=!0,rev.boardSize=64,rev.$scoreOne=$(".score-one"),rev.$scoreTwo=$(".score-two"),rev.$game=$(".game"),rev.$resetBtn=$(".reset-rev"),rev.$squares=null,rev.$moveA=$("#move-sound")[0],rev.$resetBtn.on("click",rev.reset),rev.startingPosition(),rev.$squares.on("click",rev.flip.bind(rev))},$(rev.setup.bind(rev));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJyZXYiLCJzdGFydGluZ1BpZWNlcyIsInRoaXMiLCJhZGRDbGFzcyIsIiRzcXVhcmVzIiwiZXEiLCJzY29yZUNvdW50ZXIiLCIkc2NvcmVPbmUiLCJ0ZXh0IiwiJCIsImxlbmd0aCIsInN0YXJ0aW5nUG9zaXRpb24iLCJpIiwiYm9hcmRTaXplIiwicmVtb3ZlQ2xhc3MiLCJmbGlwUGllY2VzIiwiJHRhcmdldFNxdWFyZSIsImUiLCJwaWVjZXNJblBsYXkiLCJlbmVteVBpZWNlcyIsInBpZWNlc0Nvb3JkaW5hdGVzIiwiX3RoaXMiLCJpbmRleE9mVGFyZ2V0IiwicGllY2VzVG9UdXJuIiwiaW5kZXgiLCJoYXNDbGFzcyIsInBpZWNlRmxhbmtpbmdFbmVteVBpZWNlcyIsImZpbmQiLCJzZXRUaW1lb3V0IiwicGxheWVyT25lUGxheWluZyIsIiRpc1BsYXlpbmciLCIkbW92ZUEiLCJmbGlwIiwiX3RoaXMyIiwidGFyZ2V0IiwiZm9yRWFjaCIsIm51bWJlciIsInNldHVwIiwiJHNjb3JlVHdvIiwiJGdhbWUiLCJvbiIsInJlc2V0IiwiYmluZCJdLCJtYXBwaW5ncyI6IllBQUEsSUFBSUEsS0FBTUEsT0FDVkEsS0FBSUMsZUFBaUIsV0FEckJDLEtBQUlGLFNBQU1BLEdBQVYsSUFBQUcsU0FBQSxnQkFDQUgsS0FBSUMsU0FBQUEsR0FBSixJQUFxQkUsU0FBU0YsZUFDNUJDLEtBQUtFLFNBQVNDLEdBQUcsSUFBSUYsU0FBUyxlQUM5QkQsS0FBS0UsU0FBU0MsR0FBRyxJQUFJRixTQUFTLGlCQUcvQkgsSUFMRE0sYUFBQSxXQVFFSixLQUFLSyxVQUFVQyxLQUFNLGNBQW9CQyxFQUFFLGdCQUFnQkMsUUFEN0RWLEtBQUlNLFVBQUpFLEtBQW1CLGNBQUFDLEVBQXdCLGlCQUFBQyxTQUcxQ1YsSUFIRFcsaUJBQUEsV0FNRSxJQUFNLEdBQUlDLEdBQUksRUFBR0EsRUFBSVosSUFBSWEsVUFBV0QsSUFEbENELEtBQUFBLE1BQUFBLE9BQUpG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T0FDQXpDLElBQUlPLG1CQUVKUCxJQUFJdUMsU0FBUTlCLEdBQUUsUUFBZFQsSUFBQWdDLEtBQUFVLEtBQUExQyxPQUVBQSxFQUFBQSxJQUFJSSxNQUFBQSxLQUFXSiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmV2ID0gcmV2IHx8IHt9O1xucmV2LnN0YXJ0aW5nUGllY2VzID0gZnVuY3Rpb24gc3RhcnRpbmdQaWVjZXMgKCkge1xuICB0aGlzLiRzcXVhcmVzLmVxKDI3KS5hZGRDbGFzcygneWVsbG93LXBpZWNlJyk7XG4gIHRoaXMuJHNxdWFyZXMuZXEoMjgpLmFkZENsYXNzKCdibGFjay1waWVjZScpO1xuICB0aGlzLiRzcXVhcmVzLmVxKDM1KS5hZGRDbGFzcygnYmxhY2stcGllY2UnKTtcbiAgdGhpcy4kc3F1YXJlcy5lcSgzNikuYWRkQ2xhc3MoJ3llbGxvdy1waWVjZScpO1xufTtcblxucmV2LnNjb3JlQ291bnRlciA9IGZ1bmN0aW9uIHNjb3JlQ291bnRlcigpIHtcbiAgdGhpcy4kc2NvcmVPbmUudGV4dCggJ1BsYXllciBPbmUnICsnICcgKyAkKCcuYmxhY2stcGllY2UnKS5sZW5ndGgpO1xuICB0aGlzLiRzY29yZVR3by50ZXh0KCdQbGF5ZXIgVHdvJyArJyAnICsgJCgnLnllbGxvdy1waWVjZScpLmxlbmd0aCk7XG59O1xuXG5yZXYuc3RhcnRpbmdQb3NpdGlvbiA9IGZ1bmN0aW9uIHN0YXJ0aW5nUG9zaXRpb24oKSB7XG4gIGZvciAoIGxldCBpID0gMDsgaSA8IHJldi5ib2FyZFNpemU7IGkrKykge1xuICAgIHRoaXMuJGdhbWUuYXBwZW5kKCQoJzxkaXY+JykuYWRkQ2xhc3MoJ3NxdWFyZScpKTtcblxuICB9XG4gIHRoaXMuJHNxdWFyZXMgPSAkKCcuc3F1YXJlJyk7XG4gIHRoaXMuc3RhcnRpbmdQaWVjZXMoKTtcbiAgdGhpcy5zY29yZUNvdW50ZXIoKTtcbiAgdGhpcy4kaXNQbGF5aW5nLnRleHQoJ1BsYXllciAxIC0gYmxhY2snKS5hZGRDbGFzcygnY3VycmVudC1vbmUnKTtcblxuXG59O1xuXG5cblxucmV2LnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHJldi4kc3F1YXJlcy5yZW1vdmVDbGFzcygnYmxhY2stcGllY2UnKS5yZW1vdmVDbGFzcygneWVsbG93LXBpZWNlJyk7XG4gIHJldi5zdGFydGluZ1BpZWNlcygpO1xuICByZXYuc2NvcmVDb3VudGVyKCk7XG59O1xuXG5yZXYuZmxpcFBpZWNlcyA9ICBmdW5jdGlvbiBmbGlwUGllY2VzKGUsIHBpZWNlc0luUGxheSwgZW5lbXlQaWVjZXMsIHBpZWNlc0Nvb3JkaW5hdGVzKSB7XG4gIGNvbnN0ICR0YXJnZXRTcXVhcmUgPSAkKGUudGFyZ2V0KTtcbiAgY29uc3QgaW5kZXhPZlRhcmdldCA9ICR0YXJnZXRTcXVhcmUuaW5kZXgoKTtcbiAgY29uc3QgcGllY2VzVG9UdXJuID0gW107XG4gIGxldCBpID0gcGllY2VzQ29vcmRpbmF0ZXM7XG5cbiAgaWYgKHBpZWNlc0Nvb3JkaW5hdGVzID09PSA4IHx8IHBpZWNlc0Nvb3JkaW5hdGVzID09PSAtOCkge1xuICAgIHdoaWxlIChyZXYuJHNxdWFyZXMuZXEoaW5kZXhPZlRhcmdldCArIGkpLmhhc0NsYXNzKGVuZW15UGllY2VzKSkge1xuICAgICAgcGllY2VzVG9UdXJuLnB1c2goaW5kZXhPZlRhcmdldCArIGkpO1xuICAgICAgaSArPSBwaWVjZXNDb29yZGluYXRlcztcbiAgICB9XG4gIH1cblxuICB3aGlsZSAocmV2LiRzcXVhcmVzLmVxKGluZGV4T2ZUYXJnZXQgKyBpKS5oYXNDbGFzcyhlbmVteVBpZWNlcykgJiYgKGluZGV4T2ZUYXJnZXQgKyBpKSU4ICE9PSA3ICYmIChpbmRleE9mVGFyZ2V0ICsgaSklOCAhPT0gMCkge1xuICAgIHBpZWNlc1RvVHVybi5wdXNoKGluZGV4T2ZUYXJnZXQgKyBpKTtcbiAgICBpICs9IHBpZWNlc0Nvb3JkaW5hdGVzO1xuICB9XG5cblxuICBjb25zdCBwaWVjZUZsYW5raW5nRW5lbXlQaWVjZXMgPSBwaWVjZXNUb1R1cm5bcGllY2VzVG9UdXJuLmxlbmd0aCAtIDFdICsgcGllY2VzQ29vcmRpbmF0ZXM7XG5cbiAgaWYgKHJldi4kc3F1YXJlcy5lcShwaWVjZUZsYW5raW5nRW5lbXlQaWVjZXMpLmhhc0NsYXNzKHBpZWNlc0luUGxheSkgJiYgcGllY2VGbGFua2luZ0VuZW15UGllY2VzID49IDAgJiYgcGllY2VGbGFua2luZ0VuZW15UGllY2VzIDw9IDYzKSB7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlc1RvVHVybi5sZW5ndGg7IGkrKykge1xuICAgICAgJHRhcmdldFNxdWFyZS5hZGRDbGFzcyhwaWVjZXNJblBsYXkpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiAkKCdib2R5JykuZmluZChyZXYuJHNxdWFyZXMpLmVxKHBpZWNlc1RvVHVybltpXSkucmVtb3ZlQ2xhc3MoZW5lbXlQaWVjZXMpLCAzMDApO1xuICAgICAgJCgnYm9keScpLmZpbmQocmV2LiRzcXVhcmVzKS5lcShwaWVjZXNUb1R1cm5baV0pLmFkZENsYXNzKCdmbGlwcHknKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gJCgnYm9keScpLmZpbmQocmV2LiRzcXVhcmVzKS5lcShwaWVjZXNUb1R1cm5baV0pLnJlbW92ZUNsYXNzKCdmbGlwcHknKSwgMzAwKTtcbiAgICAgICQoJ2JvZHknKS5maW5kKHJldi4kc3F1YXJlcykuZXEocGllY2VzVG9UdXJuW2ldKS5hZGRDbGFzcyhwaWVjZXNJblBsYXkpO1xuICAgICAgdGhpcy5wbGF5ZXJPbmVQbGF5aW5nID0gcGllY2VzSW5QbGF5ID09PSAnYmxhY2stcGllY2UnID8gZmFsc2UgOiB0cnVlO1xuICAgICAgdGhpcy5wbGF5ZXJPbmVQbGF5aW5nID8gdGhpcy4kaXNQbGF5aW5nLnRleHQoJ1BsYXllciAxIC0gYmxhY2snKS5hZGRDbGFzcygnY3VycmVudC1vbmUnKS5yZW1vdmVDbGFzcygnY3VycmVudC10d28nKSA6IHRoaXMuJGlzUGxheWluZy50ZXh0KCdQbGF5ZXIgMiAtIHllbGxvdycpLmFkZENsYXNzKCdjdXJyZW50LXR3bycpLnJlbW92ZUNsYXNzKCdjdXJyZW50LW9uZScpO1xuICAgICAgdGhpcy4kbW92ZUEucGxheSgpO1xuICAgIH1cbiAgfVxufTtcblxucmV2LmZsaXAgPSBmdW5jdGlvbiBmbGlwKGUpIHtcbiAgY29uc3QgcGllY2VzSW5QbGF5ID0gcmV2LnBsYXllck9uZVBsYXlpbmcgPyAnYmxhY2stcGllY2UnIDogJ3llbGxvdy1waWVjZSc7XG4gIGNvbnN0IGVuZW15UGllY2VzID0gcmV2LnBsYXllck9uZVBsYXlpbmcgPyAneWVsbG93LXBpZWNlJyA6ICdibGFjay1waWVjZSc7XG5cbiAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKHBpZWNlc0luUGxheSkgIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKGVuZW15UGllY2VzKSkgcmV0dXJuIGZhbHNlO1xuICBbMSw5LDgsNywtMSwtOSwtOCwtN10uZm9yRWFjaCgobnVtYmVyKSA9PiB7XG4gICAgdGhpcy5mbGlwUGllY2VzKGUsIHBpZWNlc0luUGxheSwgZW5lbXlQaWVjZXMsIG51bWJlcik7XG4gIH0pO1xuICB0aGlzLnNjb3JlQ291bnRlcigpO1xufTtcblxucmV2LnNldHVwICA9IGZ1bmN0aW9uIHNldHVwKCkge1xuICByZXYuJGlzUGxheWluZyA9ICQoJy5jdXJyZW50Jyk7XG4gIHJldi5wbGF5ZXJPbmVQbGF5aW5nID0gdHJ1ZTtcbiAgcmV2LmJvYXJkU2l6ZSA9IDgqODtcbiAgcmV2LiRzY29yZU9uZSA9ICQoJy5zY29yZS1vbmUnKTtcbiAgcmV2LiRzY29yZVR3byA9ICQoJy5zY29yZS10d28nKTtcbiAgcmV2LiRnYW1lID0gJCgnLmdhbWUnKTtcbiAgcmV2LiRyZXNldEJ0biA9ICAgJCgnLnJlc2V0LXJldicpO1xuICByZXYuJHNxdWFyZXMgPSBudWxsO1xuICByZXYuJG1vdmVBID0gJCgnI21vdmUtc291bmQnKVswXTtcbiAgcmV2LiRyZXNldEJ0bi5vbignY2xpY2snLCByZXYucmVzZXQpO1xuICByZXYuc3RhcnRpbmdQb3NpdGlvbigpO1xuXG4gIHJldi4kc3F1YXJlcy5vbignY2xpY2snLCByZXYuZmxpcC5iaW5kKHJldikpO1xufTtcbiQocmV2LnNldHVwLmJpbmQocmV2KSk7XG4iXX0=
